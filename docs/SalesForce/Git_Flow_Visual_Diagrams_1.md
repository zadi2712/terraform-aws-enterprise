# Git Flow Visual Diagrams

## Complete Git Flow Diagram

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          GUS WORK ITEM CREATED                          │
│                          (User Story/Task/Bug)                          │
└─────────────────────────────┬───────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────────┐
│                    DEVELOPER WORKFLOW (DEV ENV)                         │
│                                                                          │
│  1. git checkout develop                                                │
│  2. git checkout -b feature/GUS-12345-description                       │
│  3. [Development & Commits]                                             │
│  4. git push origin feature/GUS-12345                                   │
│  5. Create Pull Request → develop                                       │
│                                                                          │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐               │
│  │ Unit Tests   │ → │  Linting     │ → │   Build      │               │
│  └──────────────┘   └──────────────┘   └──────────────┘               │
│                              ↓                                          │
│                    Auto-Deploy to DEV                                   │
└─────────────────────────────┬───────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────────┐
│                      CODE REVIEW PROCESS                                │
│                                                                          │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐               │
│  │ Peer Review  │ → │Senior Review │ → │  Approval    │               │
│  │  (1 person)  │   │  (1 person)  │   │   Obtained   │               │
│  └──────────────┘   └──────────────┘   └──────────────┘               │
│                              ↓                                          │
│                    Merge to develop (Squash)                            │
└─────────────────────────────┬───────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────────┐
│                        QA ENVIRONMENT                                   │
│                                                                          │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐               │
│  │ Integration  │ → │  Security    │ → │   Quality    │               │
│  │    Tests     │   │   Scan       │   │   Analysis   │               │
│  └──────────────┘   └──────────────┘   └──────────────┘               │
│                              ↓                                          │
│                    Auto-Deploy to QA                                    │
│                    QA Team Testing                                      │
│                    GUS Status: "In QA"                                  │
└─────────────────────────────┬───────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────────┐
│                     RELEASE PREPARATION                                 │
│                                                                          │
│  1. Create release/v1.2.0 from develop                                  │
│  2. Update version numbers                                              │
│  3. Generate release notes                                              │
│  4. Deploy to UAT                                                       │
│                                                                          │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐               │
│  │ Regression   │ → │  Performance │ → │    DAST      │               │
│  │    Tests     │   │    Tests     │   │   Scan       │               │
│  └──────────────┘   └──────────────┘   └──────────────┘               │
└─────────────────────────────┬───────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────────┐
│                        UAT ENVIRONMENT                                  │
│                                                                          │
│  • Stakeholder Testing                                                  │
│  • User Acceptance Testing                                              │
│  • Business Validation                                                  │
│  • GUS Status: "In UAT"                                                 │
│                                                                          │
│         ┌───────────────────────────────────┐                           │
│         │  ✓ Product Owner Sign-off        │                           │
│         │  ✓ QA Lead Approval              │                           │
│         │  ✓ Stakeholder Acceptance        │                           │
│         └───────────────────────────────────┘                           │
└─────────────────────────────┬───────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────────┐
│                    PRODUCTION DEPLOYMENT                                │
│                                                                          │
│  1. Final Security Scan                                                 │
│  2. Merge release → main (--no-ff)                                      │
│  3. Create tag: v1.2.0                                                  │
│  4. Blue-Green Deployment                                               │
│  5. Smoke Tests                                                         │
│  6. Health Checks                                                       │
│  7. Monitor for 24 hours                                                │
│                                                                          │
│         ┌───────────────────────────────────┐                           │
│         │  ✓ Release Manager Approval      │                           │
│         │  ✓ DevOps Lead Approval          │                           │
│         │  ✓ Change Window Scheduled       │                           │
│         └───────────────────────────────────┘                           │
│                                                                          │
│  GUS Status: "Deployed to Production"                                   │
└─────────────────────────────┬───────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────────┐
│                      POST-DEPLOYMENT                                    │
│                                                                          │
│  • Merge release → develop                                              │
│  • Update documentation                                                 │
│  • Close GUS tickets                                                    │
│  • Retrospective meeting                                                │
│  • GUS Status: "Closed"                                                 │
└─────────────────────────────────────────────────────────────────────────┘
```

## Branch Lifecycle Diagram

```
MAIN (Production)
  |
  ├─ TAG: v1.0.0
  |
  ├─ HOTFIX/GUS-12347-critical-fix ──┐
  |                                    │ (Emergency)
  |  ┌───────────────────────────────┘
  |  │
  ├─ TAG: v1.0.1
  |
  ├─ RELEASE/v1.1.0 ─────────────────┐
  |                                    │
  |  ┌───────────────────────────────┘
  |  │
  ├─ TAG: v1.1.0
  |
  |
DEVELOP (QA)
  |
  ├─ FEATURE/GUS-12345-auth ──────┐
  |                                 │ PR & Merge
  |  ┌──────────────────────────── ┘
  |  │
  ├─ FEATURE/GUS-12346-dashboard ─┐
  |                                 │ PR & Merge
  |  ┌──────────────────────────── ┘
  |  │
  ├─ BUGFIX/GUS-12348-timeout ────┐
  |                                 │ PR & Merge
  |  ┌──────────────────────────── ┘
  |  │
  ├─ (Code Freeze)
  |
  ├─ RELEASE/v1.2.0 ──────────────→ UAT Testing → Merge to MAIN
  |
```

## PR Workflow Diagram

```
┌──────────────────────┐
│  Developer Creates   │
│   Feature Branch     │
└──────────┬───────────┘
           ↓
┌──────────────────────┐
│   Push to Remote     │
└──────────┬───────────┘
           ↓
┌──────────────────────┐
│  Create Pull Request │
│    to develop        │
└──────────┬───────────┘
           ↓
┌──────────────────────────────────────────┐
│        Automated Checks                  │
│  ┌────────────┐  ┌────────────┐         │
│  │ Unit Tests │  │  Linting   │         │
│  └────────────┘  └────────────┘         │
│  ┌────────────┐  ┌────────────┐         │
│  │ Code Cov.  │  │  Security  │         │
│  └────────────┘  └────────────┘         │
└──────────┬───────────────────────────────┘
           ↓
       All Pass? ──No──→ Fix Issues ──┐
           │                           │
          Yes                          │
           ↓                           │
┌──────────────────────┐              │
│   Peer Review        │←─────────────┘
│   (1 Approval)       │
└──────────┬───────────┘
           ↓
┌──────────────────────┐
│  Senior Review       │
│   (1 Approval)       │
└──────────┬───────────┘
           ↓
┌──────────────────────┐
│  All Approvals? ─No──→ Request Changes
└──────────┬───────────┘
          Yes
           ↓
┌──────────────────────┐
│  Merge to develop    │
│   (Squash & Merge)   │
└──────────┬───────────┘
           ↓
┌──────────────────────┐
│  Auto-Deploy to QA   │
│  Update GUS Status   │
└──────────────────────┘
```

## Deployment Pipeline Diagram

```
╔══════════════════════════════════════════════════════════════════════╗
║                         DEPLOYMENT PIPELINE                          ║
╚══════════════════════════════════════════════════════════════════════╝

┌────────────────────────────────────────────────────────────────────┐
│                           BUILD STAGE                               │
├────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐               │
│  │ Checkout    │→ │ Install     │→ │ Compile     │               │
│  │ Code        │  │ Dependencies│  │ Build       │               │
│  └─────────────┘  └─────────────┘  └─────────────┘               │
└────────────────────────────────────┬───────────────────────────────┘
                                      ↓
┌────────────────────────────────────────────────────────────────────┐
│                           TEST STAGE                                │
├────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐               │
│  │ Unit Tests  │→ │ Integration │→ │ Coverage    │               │
│  │ (Required)  │  │ Tests       │  │ Report      │               │
│  └─────────────┘  └─────────────┘  └─────────────┘               │
└────────────────────────────────────┬───────────────────────────────┘
                                      ↓
┌────────────────────────────────────────────────────────────────────┐
│                         QUALITY STAGE                               │
├────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐               │
│  │ SonarQube   │→ │ Linting     │→ │ Code Smells │               │
│  │ Analysis    │  │ Check       │  │ Detection   │               │
│  └─────────────┘  └─────────────┘  └─────────────┘               │
└────────────────────────────────────┬───────────────────────────────┘
                                      ↓
┌────────────────────────────────────────────────────────────────────┐
│                        SECURITY STAGE                               │
├────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐               │
│  │ SAST Scan   │→ │ Dependency  │→ │ Secret      │               │
│  │             │  │ Check       │  │ Detection   │               │
│  └─────────────┘  └─────────────┘  └─────────────┘               │
└────────────────────────────────────┬───────────────────────────────┘
                                      ↓
┌────────────────────────────────────────────────────────────────────┐
│                      ARTIFACT STAGE                                 │
├────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐               │
│  │ Create      │→ │ Tag with    │→ │ Push to     │               │
│  │ Docker Image│  │ Version     │  │ Registry    │               │
│  └─────────────┘  └─────────────┘  └─────────────┘               │
└────────────────────────────────────┬───────────────────────────────┘
                                      ↓
┌────────────────────────────────────────────────────────────────────┐
│                    DEPLOYMENT: DEV (Auto)                           │
├────────────────────────────────────────────────────────────────────┤
│  Deploy → Smoke Tests → Update GUS                                 │
└────────────────────────────────────┬───────────────────────────────┘
                                      ↓
┌────────────────────────────────────────────────────────────────────┐
│                    DEPLOYMENT: QA (Auto)                            │
├────────────────────────────────────────────────────────────────────┤
│  Deploy → Integration Tests → Notify QA Team                       │
└────────────────────────────────────┬───────────────────────────────┘
                                      ↓
                           ┌──────────────────┐
                           │ Manual Approval  │
                           │ QA Sign-off      │
                           └────────┬─────────┘
                                      ↓
┌────────────────────────────────────────────────────────────────────┐
│                    DEPLOYMENT: UAT (Manual)                         │
├────────────────────────────────────────────────────────────────────┤
│  Deploy → E2E Tests → Performance Tests → DAST Scan                │
└────────────────────────────────────┬───────────────────────────────┘
                                      ↓
                           ┌──────────────────┐
                           │ Manual Approval  │
                           │ Stakeholder      │
                           │ Sign-off         │
                           └────────┬─────────┘
                                      ↓
┌────────────────────────────────────────────────────────────────────┐
│                    DEPLOYMENT: PROD (Manual)                        │
├────────────────────────────────────────────────────────────────────┤
│  Blue-Green Deploy → Health Checks → Traffic Switch → Monitor      │
└────────────────────────────────────────────────────────────────────┘
```

## Hotfix Emergency Workflow

```
┌──────────────────────────────────────────────────────────────┐
│           CRITICAL PRODUCTION ISSUE DETECTED                 │
└────────────────────────┬─────────────────────────────────────┘
                         ↓
┌──────────────────────────────────────────────────────────────┐
│  Create GUS Ticket (P0 Priority)                             │
│  Notify On-Call Team                                         │
└────────────────────────┬─────────────────────────────────────┘
                         ↓
┌──────────────────────────────────────────────────────────────┐
│  git checkout main                                           │
│  git checkout -b hotfix/GUS-12347-critical-fix               │
└────────────────────────┬─────────────────────────────────────┘
                         ↓
┌──────────────────────────────────────────────────────────────┐
│  Develop Fix                                                 │
│  git commit -m "GUS-12347: fix: Critical security patch"     │
└────────────────────────┬─────────────────────────────────────┘
                         ↓
┌──────────────────────────────────────────────────────────────┐
│  Expedited Review                                            │
│  (Senior Engineer - 15 min SLA)                              │
└────────────────────────┬─────────────────────────────────────┘
                         ↓
┌──────────────────────────────────────────────────────────────┐
│  Deploy to DEV → Quick Smoke Test (15 min)                   │
└────────────────────────┬─────────────────────────────────────┘
                         ↓
┌──────────────────────────────────────────────────────────────┐
│  Deploy to QA → Validation (30 min)                          │
└────────────────────────┬─────────────────────────────────────┘
                         ↓
                  ┌──────────────┐
                  │ Skip UAT?    │
                  │ (If Critical)│
                  └───┬──────┬───┘
                 Yes  │      │  No
                      ↓      ↓
              ┌───────────────────────┐
              │ Deploy to UAT (1 hour)│
              └───────┬───────────────┘
                      ↓
┌──────────────────────────────────────────────────────────────┐
│  Emergency Approval                                          │
│  ✓ DevOps Lead                                               │
│  ✓ On-Call Manager                                           │
└────────────────────────┬─────────────────────────────────────┘
                         ↓
┌──────────────────────────────────────────────────────────────┐
│  Merge to main                                               │
│  git merge --no-ff hotfix/GUS-12347-critical-fix             │
│  git tag -a v1.2.1 -m "Hotfix: Security patch"               │
└────────────────────────┬─────────────────────────────────────┘
                         ↓
┌──────────────────────────────────────────────────────────────┐
│  Deploy to PROD (Blue-Green)                                 │
│  Monitor Closely (2 hours)                                   │
└────────────────────────┬─────────────────────────────────────┘
                         ↓
┌──────────────────────────────────────────────────────────────┐
│  Merge back to develop                                       │
│  Document Incident                                           │
│  Schedule Post-Mortem                                        │
└──────────────────────────────────────────────────────────────┘

⏱️ Total Time Target: < 4 hours for critical fixes
```

## Environment Promotion Flow

```
┌─────────────────────────────────────────────────────────────┐
│                          DEV                                │
│  • Feature branches                                         │
│  • Auto-deploy on push                                      │
│  • Unstable                                                 │
│  • Rapid iteration                                          │
└────────────────────────┬────────────────────────────────────┘
                         │ PR Merge
                         ↓
┌─────────────────────────────────────────────────────────────┐
│                          QA                                 │
│  • develop branch                                           │
│  • Auto-deploy on merge                                     │
│  • Semi-stable                                              │
│  • Integration testing                                      │
│  • ≥80% test coverage required                              │
└────────────────────────┬────────────────────────────────────┘
                         │ QA Approval + Create Release
                         ↓
┌─────────────────────────────────────────────────────────────┐
│                          UAT                                │
│  • release/* branches                                       │
│  • Manual deployment                                        │
│  • Stable                                                   │
│  • Acceptance testing                                       │
│  • Stakeholder validation                                   │
└────────────────────────┬────────────────────────────────────┘
                         │ Stakeholder Sign-off
                         ↓
┌─────────────────────────────────────────────────────────────┐
│                         PROD                                │
│  • main branch                                              │
│  • Manual deployment (change window)                        │
│  • Highly stable                                            │
│  • Blue-green deployment                                    │
│  • 24/7 monitoring                                          │
└─────────────────────────────────────────────────────────────┘
```

## GUS Integration Flow

```
┌──────────────────────────────────────────────────────────────────┐
│                     GUS WORK ITEM STATES                         │
└──────────────────────────────────────────────────────────────────┘

    New
     │
     │ Developer starts work
     ↓
In Progress ←──────────────┐
     │                      │
     │ Create PR            │ Changes requested
     ↓                      │
In Review ─────────────────┘
     │
     │ PR Approved
     ↓
Approved
     │
     │ Merge to develop
     ↓
  In QA
     │
     │ Deploy to UAT
     ↓
 In UAT
     │
     │ Deploy to PROD
     ↓
Deployed
     │
     │ Verified in production
     ↓
 Closed

┌──────────────────────────────────────────────────────────────────┐
│               AUTOMATIC STATUS TRANSITIONS                       │
├────────────────────────┬─────────────────────────────────────────┤
│ Git Event              │ GUS Status Update                       │
├────────────────────────┼─────────────────────────────────────────┤
│ Branch created         │ New → In Progress                       │
│ PR created             │ In Progress → In Review                 │
│ PR approved            │ In Review → Approved                    │
│ Merge to develop       │ Approved → In QA                        │
│ Deploy to UAT          │ In QA → In UAT                          │
│ Deploy to PROD         │ In UAT → Deployed                       │
│ Production verified    │ Deployed → Closed                       │
└────────────────────────┴─────────────────────────────────────────┘
```

## Rollback Decision Tree

```
                    ┌────────────────────┐
                    │ Issue Detected in  │
                    │   Production?      │
                    └─────────┬──────────┘
                              ↓
                    ┌─────────────────────┐
                    │ What's the Severity?│
                    └─────────┬───────────┘
                              ↓
          ┌───────────────────┼───────────────────┐
          │                   │                   │
     ┌────▼─────┐      ┌─────▼──────┐     ┌─────▼──────┐
     │ P0-P1    │      │  P2        │     │  P3        │
     │ Critical │      │  High      │     │  Medium    │
     └────┬─────┘      └─────┬──────┘     └─────┬──────┘
          │                  │                   │
          ↓                  ↓                   ↓
┌──────────────────┐ ┌──────────────┐   ┌─────────────┐
│ Blue-Green       │ │ Create       │   │ Schedule    │
│ Instant Rollback │ │ Hotfix       │   │ Fix for     │
│ < 1 min          │ │ < 4 hours    │   │ Next Release│
└──────────────────┘ └──────────────┘   └─────────────┘
```

---

## Legend

```
Symbols Used:
  │  ↓  →  ←  ↑  ┐  ┘  └  ┌    Flow lines
  ┬  ┴  ├  ┤  ┼           Connectors
  ═  ║  ╔  ╗  ╚  ╝        Box borders

Status Indicators:
  ✓  Success/Completed
  ❌  Failed/Rejected
  ⏱️  Time-sensitive
  🔥  Critical/Emergency
  ⚡  Fast action required
  🚀  Deploy/Release
  🔍  Review/Inspection
  📋  Checklist
  🌍  Environment
```

---

**Note**: These diagrams are simplified representations. Refer to the main policy document for complete details and procedures.
